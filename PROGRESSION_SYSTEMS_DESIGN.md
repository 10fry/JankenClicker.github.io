# プログレッションシステム詳細設計書

## 1. アップグレード（主要通貨 - じゃんけんスピリット / 勝利ポイント使用）

*   **アップグレードの種類:**
    *   **じゃんけん力強化:**
        *   `勝利ごとの基本じゃんけんスピリット増加`:
            *   コストスケーリング: `基本コスト * (レベル ^ 1.15)` のような指数関数的増加。初期コストは低めに設定。
            *   効果の計算式: 初期は `+N` (フラット増加、例: +1スピリット/レベル)。高レベル帯では `現在の獲得量に+N%` (パーセンテージ増加) も検討。
            *   例: レベル1: +1, レベル2: +2, ... レベル10: +10。その後、レベル11からは現在の獲得量に対して+2%ずつ増加など。
        *   `クリティカル勝利確率増加`:
            *   コストスケーリング: `基本コスト * (レベル ^ 1.25)`。
            *   最大確率: 50%（ゲームバランスにより調整）。初期は5%。
            *   効果の計算式: `+0.5%` /レベル。
        *   `クリティカル勝利倍率増加`:
            *   コストスケーリング: `基本コスト * (レベル ^ 1.3)`。
            *   効果の計算式: `+0.1倍` /レベル。初期はx3倍。
    *   **オートメーション強化:**
        *   `オートじゃんけんハンド解放 (グー/チョキ/パー)`:
            *   種類: それぞれ個別のアップグレードとして購入。一度購入すれば永続的に使用可能。
            *   コスト: 比較的高めに設定し、プレイヤーがある程度ゲームに慣れてから解放するよう誘導。
        *   `オートじゃんけん速度増加`:
            *   コストスケーリング: `基本コスト * (レベル ^ 1.4)`。
            *   効果の計算式: `現在の速度 -0.05秒` /レベル。最小速度キャップあり（例: 0.5秒/バトル）。
        *   `「おまかせオートじゃんけん」AI改善`:
            *   コストスケーリング: `基本コスト * (レベル ^ 1.5)`。
            *   効果: AIの勝率が段階的に向上（例: +1%勝率/レベル、最大70%程度）。または、より高度な予測ロジック（例：相手の直近の手を考慮する頻度向上）をアンロック。
    *   **特殊じゃんけんムーブ (一時的バフ/アビリティ - 主要通貨で購入する場合):**
        *   これらはH&S要素のアクティブスキルとして設計する方が、クールダウンやチャージ管理の点で自然なため、本セクションでは主要通貨による購入対象からは除外します。H&Sドキュメントで詳細を定義します。
*   **アップグレードコストスケーリング:**
    *   基本的には指数関数的増加 (`コスト = 基本値 * (係数 ^ 現在レベル)`) を採用し、序盤はサクサク進み、徐々にコストが重くなるように調整します。
    *   係数はアップグレードの種類によって微調整し、重要度の高いものや効果の大きいものは、より早くコストが上昇するようにします。
    *   プレイヤーが極端な停滞感を感じないよう、特定のレベルキャップで一時的にコスト上昇を緩やかにする、または転生によるブーストで乗り越えられる設計を目指します。
*   **表示方法:**
    *   UI上では、スクロール可能なリスト形式でアップグレード項目を表示します。
    *   各項目には、アップグレード名、現在のレベル、現在の効果、次のレベルの効果、次のレベルへのアップグレードコストを明確に表示します。
    *   購入可能な場合はボタンが強調され、通貨不足の場合は非活性化されます。

## 2. 転生 (Tensei)

*   **転生のトリガー:**
    *   条件: 以下のいずれか、または複合条件。
        *   プレイヤーレベルが特定の値に到達（例: レベル50）。
        *   特定のボスキャラクターを撃破（例: ステージ100のボス）。
        *   今回の転生までに獲得した累計じゃんけんスピリットが一定量を超える。
    *   リセットされるもの:
        *   現在のじゃんけんスピリット。
        *   主要通貨で購入したほとんどのアップグレード（一部QoLアップグレードは保持される可能性あり、後述）。
        *   現在の対戦相手の進行度。
        *   プレイヤーレベル（EXPと共にリセット）。
    *   保持されるもの:
        *   獲得した転生通貨（例：聖なるトークン）。
        *   転生通貨で購入した永続的なアップグレード。
        *   H&S要素で獲得した装備品（ただし、装備レベル制限がある場合は再装備が必要になる可能性）。
        *   アンロック済みのゲーム機能（オートメーション、スキルツリーなど）。
        *   特定の重要なマイルストーン（例：一度倒したボスの図鑑情報など）。
*   **転生通貨 (例: 聖なるトークン / 悟りの石):**
    *   計算式:
        *   基本獲得量: `(今回の転生での最大到達ステージ / X) + (累計獲得じゃんけんスピリット / Y)` のような形で、進行度と総獲得量に基づいて計算。XとYはバランス調整用の係数。
        *   ボス撃破ボーナス: 特定のボスを撃破している場合、追加でボーナス通貨を獲得。
    *   頻繁すぎる低進行度での転生に対するリターン減少: 非常に低いステージや獲得スピリットでの転生の場合、獲得できる転生通貨に最低保証値を設けつつも、効率は悪くなるように調整します（例：獲得量が一定値以下の場合、ペナルティ係数を乗算）。
*   **永続的な転生アップグレード (転生通貨で購入):**
    *   **グローバルブースト:**
        *   `全てのじゃんけんスピリット獲得量永続%増加`: コストは高めだが効果も大きい最優先アップグレードの一つ。
        *   `クリティカル勝利確率/倍率永続%増加`: 戦闘結果の期待値を底上げ。
        *   `主要通貨アップグレードコスト永続%減少`: 次の周回の進行速度を加速。
        *   `転生後の初期じゃんけんスピリット量増加`: スタートダッシュを補助。
    *   **機能アンロック:**
        *   `新しいスキルツリー解放`: プレイスタイルの幅を広げる。
        *   `新しいH&S装備ティアまたはクラフトレシピ解放`: より強力な装備へのアクセス。
        *   `より挑戦的なゲームモードまたは対戦相手ティア解放`: エンドゲームコンテンツの拡張。
        *   `H&S要素の特定システム解放`（例：装備強化システム、ルーンシステムなど）。
    *   **QoL改善:**
        *   `「オートじゃんけん」スロット数増加`: 複数の手を同時に自動化。
        *   `転生後も一部の主要アップグレードレベルを保持`: 例：「勝利ごとの基本じゃんけんスピリット増加」の最初の10レベル分はリセットされないなど。
        *   `オフライン中の進行速度/時間上限増加`。
*   **転生アップグレードのコストスケーリング:** 主要通貨アップグレードと同様の指数関数的増加を基本としますが、より長期的視点での投資となるため、効果の大きさとコストのバランスを慎重に調整します。

## 3. 経験値＆レベル (プレイヤーレベル - 実装する場合)

*   **経験値 (EXP) の獲得:**
    *   じゃんけんバトル勝利時: 対戦相手の強さ（ステージレベルやボスフラグ）に応じて獲得EXPが変動。強い敵ほど多くのEXP。
    *   ボス撃破時: 通常の敵よりも大幅に多いボーナスEXPを獲得。
    *   クエスト達成時（将来的な拡張）。
*   **レベルアップ:**
    *   レベルごとの必要EXP: `基本EXP * (レベル ^ 1.5)` のような形で、レベルが上がるにつれて必要量が増加。
    *   **レベルアップ報酬:**
        *   ステータスポイント: プレイヤーレベルが1上がるごとに1ポイント獲得。H&Sドキュメントで定義される「力」「技」「運」などのステータスに割り振ることができ、じゃんけんの特定の手の威力向上、クリティカル率、アイテムドロップ率などに影響。
        *   スキルポイント: 特定のレベルごと（例: 5レベルごと）に1スキルポイント獲得。後述のスキルシステムで使用。
        *   新規対戦相手ティアまたはエリアのアンロック: 特定のレベル到達が次のステージ群への挑戦条件となる。
        *   微量なパッシブボーナス: `全リソース獲得量+0.1% / レベル` のような、微々たるものだが永続的な恩恵。
*   **最大レベル / 無限レベル:**
    *   初期は最大レベルを100程度に設定し、転生を促す区切りとします。
    *   転生を繰り返すことで、最大レベル上限が解放されたり、レベルアップによる恩恵がさらに増加する「無限レベル」に近い概念（ただしステータス上昇には上限あり）を導入することも検討します。

## 4. スキルシステム (H&Sまたは転生の一部として検討)

*   **コンセプト:** プレイヤーが獲得したスキルポイントを使用して、様々なパッシブ効果やアクティブ能力をアンロック/強化できるシステム。ツリー形式またはリスト形式で提供。
*   **スキルポイントの獲得方法:**
    *   プレイヤーレベルアップ時（例: 5レベルごとに1ポイント）。
    *   特定の転生アップグレードによる獲得（例: 転生時にXポイント付与）。
    *   非常にレアなアイテムドロップとして「スキルの書」などを入手。
*   **スキルの種類:**
    *   **じゃんけん特化:**
        *   `グー専門`: グーで勝利した際のスピリット獲得量+X%、グー使用時に一定確率で相手のパーを無効化するなど。（チョキ、パーも同様のスキル群）。
        *   `カウンターマスター`: あいこになりそうな状況を読み解き、カウンターで勝利しやすくなる。またはカウンター勝利時の報酬増加。
        *   `先読み`: 一定時間、相手の次の一手を予測表示するアクティブスキル（クールダウンあり）。
    *   **経済特化:**
        *   `ウェルスマグネット`: 全ての通貨獲得量を恒常的に+X%。
        *   `アップグレード効率化`: 全ての主要通貨アップグレードのコストを永続的に-X%。
        *   `交渉術`: ショップでのアイテム購入価格割引（将来的にショップ機能が追加された場合）。
    *   **H&S特化 (H&Sドキュメントと連携して定義):**
        *   `ルートドロップ率/品質向上`: 装備やアイテムのドロップ率、レアリティ出現率が上昇。
        *   `特定装備の熟練度`: 特定カテゴリの武器（例：グローブ、シザー）の性能を向上させる。
        *   `アクティブスキル枠追加/クールダウン短縮`: H&Sで定義される戦闘用アクティブスキルの使用効率を上げる。
*   **スキルツリー構造 (該当する場合):**
    *   複数のブランチ（例: じゃんけん強化系、経済系、H&S補助系）に分かれる。
    *   下位スキルを一定レベルまで取得すると上位スキルがアンロックされるような前提条件を設定。
    *   **リスペックオプション:**
        *   ゲーム内通貨（主要通貨または転生通貨）を消費してスキルポイントをリセットし、再配分できる機能。
        *   リスペックコストは、リセットするポイント数に応じて増加。頻繁なリスペックは推奨しない程度のバランス。

## 5. ペーシングとバランス調整に関する考慮事項

*   これらのプログレッションシステムは相互に影響し合い、プレイヤーに長期的な目標と達成感を提供することを目指します。
*   主要通貨アップグレードは短期的な成長、EXP/レベルは中期的なキャラクター強化と新機能解放、転生はゲーム全体の進行リセットと永続的なブーストによる大幅な加速、スキルシステムはプレイスタイルのカスタマイズを担います。
*   各システムのコストや報酬のバランスを慎重に調整し、プレイヤーが特定の地点で完全に進行不能になったり、逆に単調な作業を強いられたりすることを避けます。
*   転生は、中盤以降のマンネリ化を防ぎ、新たな目標設定と加速度的な成長体験を提供することで、リプレイ性を高める重要な役割を果たします。転生によってアンロックされる要素が、次の周回への明確なモチベーションとなるように設計します。
*   初期のゲームプレイでは、じゃんけんバトルの楽しさと直接的なアップグレードによる成長を体験させ、徐々にレベルアップ、H&S要素、そして最終的には転生とスキルシステムへとプレイヤーを導いていくような自然な流れを意識します。
